import{j as e,F as P,a as s,D as I,p as y,b as M,c as T,r as R,R as z,d as c,u as f,e as L,f as A,S as j,T as v,B as h,g as O,h as B,i as u,k as E,l as q,N as D,C as F,z as _,o as H,m as W,t as x,M as w,n as $,q as J,s as Q,I as V,P as K,v as Z,w as G,x as U,y as X,A as Y,Q as ee}from"./vendor-be03cf5f.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))r(t);new MutationObserver(t=>{for(const a of t)if(a.type==="childList")for(const n of a.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&r(n)}).observe(document,{childList:!0,subtree:!0});function i(t){const a={};return t.integrity&&(a.integrity=t.integrity),t.referrerpolicy&&(a.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?a.credentials="include":t.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(t){if(t.ep)return;t.ep=!0;const a=i(t);fetch(t.href,a)}})();const te=()=>e(P,{children:s("div",{className:"h-10 flex items-center px-4 justify-between border-b-1	 border-brand-grey",children:[s("span",{className:"flex text-sm text-brand-primary font-semibold ",children:[s("svg",{width:"20",height:"20",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e("path",{d:"M31 4H16L10 27H18L14 44L40 16H28L31 4Z",fill:"#2F88FF",stroke:"#2558fb",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"miter"}),e("path",{d:"M21 11L19 19",stroke:"#2558fb",strokeWidth:"4",strokeLinecap:"round"})]}),"One-codes"]}),s("div",{className:"flex items-center",children:[s("div",{className:"btn m-r1",onClick:()=>{},children:[e(I,{className:"m-r-1"}),"出码"]}),e("a",{target:"_blank",rel:"noopener noreferrer",href:"https://github.com/wen-haoming/antd-one-editor",className:"i-mdi-github text-black text-size-2xl cursor-pointer hover:text-brand-primary"})]})]})}),b=y({panelMode:"edit"}),le=y([]),m=y({}),ae=y({install:[]}),oe=(l,o)=>{const i=({idSchema:r})=>r.map(t=>{const a=o[t.id].component,n=o[t.id].props;return t.slot?c.createElement(a,{...n,key:t.id},i({idSchema:t.slot})):c.createElement(a,{...n,key:t.id})});return R(e(z.Fragment,{children:i({idSchema:l})},""),{filterProps:["key"],displayName(r){var t;return((t=o[String(r.key).replace(/[^\w]|$/g,"")])==null?void 0:t.componentName)||""}})},re=(l,o)=>{const r=`

  function Page (){

    return ${oe(l,o)}
  }

  export default Page
  `;return M.format(r,{parser:"babel",plugins:[T]})},ne=()=>{const l=f(le),o=f(m);return e(L,{theme:"dark",readOnly:!0,height:"100%",value:re(l,o)||"",className:"h-100%",extensions:[A({jsx:!0,typescript:!0})]})},se=()=>{const l=f(b);return s("div",{className:"flex flex-col flex-1 bg-brand-grey p-t-0",children:[s(j,{className:"flex h-7 w-full bg-white b-brand-grey border-l-1 border-r-1 justify-end items-center p-x2",children:[e(v,{title:"编辑模式",overlayInnerStyle:{fontSize:12,borderRadius:5},showArrow:!1,children:e(h,{size:"small",type:"text",onClick:()=>{b.panelMode="edit"},style:{color:l.panelMode==="edit"?"#2558fb":"#9b9b9b"},icon:e(O,{})})}),e(v,{title:"代码查看模式",overlayInnerStyle:{fontSize:12,borderRadius:5},showArrow:!1,children:e(h,{size:"small",type:"text",onClick:()=>{b.panelMode="code"},style:{color:l.panelMode==="code"?"#2558fb":"#9b9b9b"},icon:e(B,{})})})]}),s("div",{className:"h-[calc(100vh-5rem)] bg-white overflow-y-auto m-2 p-1 flex-col",children:[l.panelMode==="edit"&&e("iframe",{className:"h-100% h-100%",width:"100%",src:void 0,srcDoc:void 0}),l.panelMode==="code"&&e(ne,{})]})]})},ie={Switch:q,NumberPicker:D},ce=()=>{const l=f(b),o=f(m),[i,r]=c.useState(()=>({form:u.createForm({}),fields:[]})),t=!!l.id;return c.useEffect(()=>{var a,n,d;if(l.id){const N=o&&l.id&&((a=m[l.id])==null?void 0:a.configProps)||[],k=((n=o[l.id])==null?void 0:n.component.defaultProps)||{},C=((d=m[l.id])==null?void 0:d.props)||k;r({fields:N,form:u.createForm({initialValues:C})})}},[l.id,o]),e("div",{className:"w-1/5  border-brand-line ",children:e("div",{className:"p-5",children:t&&e(u,{form:i.form,layoutProps:{layout:"vertical",labelCol:9},gridProps:{maxColumns:1},install:ie,fields:i.fields,onValuesChange:a=>{t&&(m[l.id].props=E(a))}})})})},de=()=>s("div",{className:"flex flex-col relative very-cool w-full	h-full",children:[e(te,{}),s("div",{className:"flex flex-1",children:[e(se,{}),e(ce,{})]})]});function pe(l){return c.useEffect(()=>{ae.install=l.install},[]),e(F,{locale:_,prefixCls:"one-codes",children:e(de,{})})}const S=l=>s("div",{className:"flex m-b-2",children:[e("div",{className:"w-5px b-rd-2px bg-brand-primary mr-7px"}),e("div",{className:"flex-1 text-3.5 font-bold",children:l.str})]}),me=H(l=>{const[o,{setTrue:i,setFalse:r}]=W(),t=c.useMemo(()=>u.createForm(),[]);return s(P,{children:[e(h,{type:"primary",onClick:()=>{i(),t.setValues({columns:x(l.value||[])})},children:"columns配置"}),e(w,{title:"column配置",open:o,onOk:async()=>{await t.validate();let a=x(t.values.columns);a=a.map(n=>{var d;return(d=n==null?void 0:n.searchField)!=null&&d.type||delete n.searchField,n}),l.onChange(a),r()},onCancel:()=>{r()},children:e(F,{componentSize:"small",children:e(u,{form:t,gridProps:{maxColumns:2},layoutProps:{labelCol:0},fields:[{type:"ArrayTabs",name:"columns",valueType:"Array",children:[{type:()=>e(S,{str:"columns配置"}),itemProps:{style:{margin:0,padding:0}}},{type:"Input",required:!0,title:"title",name:"title"},{type:"Input",required:!0,title:"dataIndex",name:"dataIndex"},{type:()=>e(S,{str:"table搜索配置"}),itemProps:{style:{margin:0,padding:0}}},{type:"Select",name:"searchField.type",title:"type",props:{allowClear:!0},enum:[{label:"输入框",value:"Input"},{label:"选择框",value:"Select"}]},{type:"Input",required:!0,title:"title",name:"searchField.title",reactions:{dependencies:["..searchField.type"],fulfill:{state:{display:"{{!$deps[0]? 'none':'visible'}}"}}}},{type:"Input",required:!0,name:"searchField.name",title:"name",reactions:{dependencies:["..searchField.type"],fulfill:{state:{display:"{{!$deps[0]? 'none':'visible'}}"}}}}]}]})})})]})});const g=document.getElementById("root"),p=()=>Math.floor(Math.random()*1e5).toString(16);g&&$(g).render(e(pe,{install:[{typeName:"FormRender组件",icon:"",children:[{component:J,componentName:"TableFormRender",defaultProps:{tableProps:{size:"small",rowKey:"id"},request:async()=>new Promise(o=>{setTimeout(()=>{o({total:1e3,list:Array(1e3).fill("").map((i,r)=>({id:r,a:p(),b:p(),c:p(),d:p(),e:p()}))})},300)}),columns:[{title:"a",dataIndex:"a",searchField:{type:"Input",required:!0,title:"选项",props:{options:[{label:"选项1",value:"1 "},{label:"选项2",value:"2"}]}}},{title:"b",dataIndex:"b",searchField:{type:"Select",props:{options:[{label:"选项1",value:" 1 "},{label:"选项2",value:" 2"}]}}},{title:"c",dataIndex:"c",searchField:{type:"Select",title:"c",props:{options:[{label:"选项1",value:" 1 "},{label:"选项2",value:" 2"}]}}},{title:"d",dataIndex:"d",searchField:{type:"Select",title:"c",props:{options:[{label:"选项1",value:" 1 "},{label:"选项2",value:" 2"}]}}},{title:"e",dataIndex:"e",searchField:{type:"Select",props:{options:[{label:"选项1",value:" 1 "},{label:"选项2",value:" 2"}]}}}]},configProps:[{type:"Select",title:"table-size",name:"tableProps.size",enum:[{label:"小",value:"small"},{label:"中",value:"middle"},{label:"大",value:"large"}]},{type:"Switch",title:"borded",name:"tableProps.bordered",valueType:"Boolean"},{type:me,name:"columns",title:"columns配置"}]},{component:Q,componentName:"Card",defaultProps:{size:"small",title:"title"},configProps:[{type:"Input",name:"title",title:"title"},{type:"Select",enum:[{value:"small",label:"small"},{value:"default",label:"default"}],name:"size",title:"size"}]}]},{typeName:"Antd 组件",icon:"",children:[{component:V,componentName:"Input",isSlot:!1,defaultProps:{bordered:!0},configProps:[{type:"Switch",name:"showCount",title:"是否显示数字"},{type:"Switch",name:"bordered",title:"是否有边框"},{type:"Switch",name:"allowClear",title:"可以点击清除图标删除内容"}]},{component:h,componentName:"Button",isSlot:!1,defaultProps:{block:!1,type:"default",shape:"default",children:"Button"},configProps:[{type:"Input",name:"children",title:"内容"},{type:"Switch",name:"block",title:"将按钮宽度调整为其父宽度的选项"},{type:"Switch",name:"danger",title:"设置危险按钮"},{type:"Select",name:"shape",title:"设置按钮形状",enum:[{label:"default",value:"default"},{label:"circle",value:"circle"},{label:"round",value:"round"}]},{type:"Select",name:"type",title:"设置按钮类型",enum:[{label:"default",value:"default"},{label:"primary",value:"primary"},{label:"ghost",value:"ghost"},{label:"dashed",value:"dashed"},{label:"link",value:"link"},{label:"text",value:"text"}]}]},{component:o=>s(P,{children:[e(h,{children:"Modal"}),e(w,{...o})]}),componentName:"Modal",isSlot:!1,defaultProps:{maskClosable:!0,title:"title",width:520,open:!1},configProps:[{type:"Switch",name:"maskClosable",title:"点击蒙层是否允许关闭"},{type:"Input",name:"title",title:"标题"},{type:"NumberPicker",name:"width",title:"宽度"},{type:"Switch",name:"open",title:"对话框是否可见"}]}]},{typeName:"表单组件",icon:"",children:[{component:K,componentName:"ProFormText",isSlot:!1,defaultProps:{label:"abc",name:"abc"},configProps:[{type:"Switch",name:"fieldProps.showCount",title:"是否显示数字"}]},{component:Z,isSlot:!1,componentName:"ProFormDatePicker",defaultProps:{label:"ProFormDatePicker",name:"ProFormDatePicker"}},{component:G,componentName:"ProFormCheckbox",isSlot:!1,defaultProps:{label:"ProFormCheckbox",name:"ProFormCheckbox"}},{component:U,componentName:"ProFormRadio",isSlot:!1,defaultProps:{label:"ProFormRadio",name:"ProFormRadio"}},{component:X,componentName:"ProFormTextArea",isSlot:!1,defaultProps:{label:"ProFormTextArea",name:"ProFormTextArea"}},{component:Y,componentName:"ProForm",isSlot:!0,defaultProps:{layout:"inline"}},{component:ee,componentName:"QueryFilter",isSlot:!0,configProps:[{type:"Switch",name:"defaultCollapsed",title:"默认收起"},{type:"Switch",name:"split",title:"每一行是否有分割线"},{type:"NumberPicker",name:"labelWidth",title:"label 宽度"}],defaultProps:{defaultCollapsed:!0,labelWidth:80}}]}]}));
