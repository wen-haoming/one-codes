import{j as e,D as N,p as h,a as k,b as C,r as I,R as M,c as i,u,d as R,e as T,S as z,T as x,B as f,F as L,f as A,g as m,h as E,i as O,N as B,C as g,z as q,o as D,k as _,t as y,M as S,l as H,m as W,n as $,I as J,P as Q,q as V,s as K,v as Z,w as G,x as U,Q as X}from"./vendor-60f3bd6e.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))r(t);new MutationObserver(t=>{for(const a of t)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(t){const a={};return t.integrity&&(a.integrity=t.integrity),t.referrerpolicy&&(a.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?a.credentials="include":t.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(t){if(t.ep)return;t.ep=!0;const a=n(t);fetch(t.href,a)}})();const Y=()=>e.jsx(e.Fragment,{children:e.jsxs("div",{className:"h-10 flex items-center px-4 justify-between border-b-1	 border-brand-grey",children:[e.jsxs("span",{className:"flex text-sm text-brand-primary font-semibold ",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{d:"M31 4H16L10 27H18L14 44L40 16H28L31 4Z",fill:"#2F88FF",stroke:"#2558fb",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"miter"}),e.jsx("path",{d:"M21 11L19 19",stroke:"#2558fb",strokeWidth:"4",strokeLinecap:"round"})]}),"One-codes"]}),e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:"btn m-r1",onClick:()=>{},children:[e.jsx(N,{className:"m-r-1"}),"出码"]}),e.jsx("a",{target:"_blank",rel:"noopener noreferrer",href:"https://github.com/wen-haoming/antd-one-editor",className:"i-mdi-github text-black text-size-2xl cursor-pointer hover:text-brand-primary"})]})]})}),b=h({panelMode:"edit"}),ee=h([]),p=h({}),te=h({install:[]}),le=(l,o)=>{const n=({idSchema:r})=>r.map(t=>{const a=o[t.id].component,s=o[t.id].props;return t.slot?i.createElement(a,{...s,key:t.id},n({idSchema:t.slot})):i.createElement(a,{...s,key:t.id})});return I(e.jsx(M.Fragment,{children:n({idSchema:l})},""),{filterProps:["key"],displayName(r){var t;return((t=o[String(r.key).replace(/[^\w]|$/g,"")])==null?void 0:t.componentName)||""}})},ae=(l,o)=>{const r=`

  function Page (){

    return ${le(l,o)}
  }

  export default Page
  `;return k.format(r,{parser:"babel",plugins:[C]})},oe=()=>{const l=u(ee),o=u(p);return e.jsx(R,{theme:"dark",readOnly:!0,height:"100%",value:ae(l,o)||"",className:"h-100%",extensions:[T({jsx:!0,typescript:!0})]})},re=()=>{const l=u(b);return e.jsxs("div",{className:"flex flex-col flex-1 bg-brand-grey p-t-0",children:[e.jsxs(z,{className:"flex h-7 w-full bg-white b-brand-grey border-l-1 border-r-1 justify-end items-center p-x2",children:[e.jsx(x,{title:"编辑模式",overlayInnerStyle:{fontSize:12,borderRadius:5},showArrow:!1,children:e.jsx(f,{size:"small",type:"text",onClick:()=>{b.panelMode="edit"},style:{color:l.panelMode==="edit"?"#2558fb":"#9b9b9b"},icon:e.jsx(L,{})})}),e.jsx(x,{title:"代码查看模式",overlayInnerStyle:{fontSize:12,borderRadius:5},showArrow:!1,children:e.jsx(f,{size:"small",type:"text",onClick:()=>{b.panelMode="code"},style:{color:l.panelMode==="code"?"#2558fb":"#9b9b9b"},icon:e.jsx(A,{})})})]}),e.jsx("div",{className:"h-[calc(100vh-5rem)] bg-white overflow-y-auto m-2 p-1 flex-col",children:l.panelMode==="code"&&e.jsx(oe,{})})]})},se={Switch:O,NumberPicker:B},ne=()=>{const l=u(b),o=u(p),[n,r]=i.useState(()=>({form:m.createForm({}),fields:[]})),t=!!l.id;return i.useEffect(()=>{var a,s,c;if(l.id){const j=o&&l.id&&((a=p[l.id])==null?void 0:a.configProps)||[],F=((s=o[l.id])==null?void 0:s.component.defaultProps)||{},w=((c=p[l.id])==null?void 0:c.props)||F;r({fields:j,form:m.createForm({initialValues:w})})}},[l.id,o]),e.jsx("div",{className:"w-1/5  border-brand-line ",children:e.jsx("div",{className:"p-5",children:t&&e.jsx(m,{form:n.form,layoutProps:{layout:"vertical",labelCol:9},gridProps:{maxColumns:1},install:se,fields:n.fields,onValuesChange:a=>{t&&(p[l.id].props=E(a))}})})})},ie=()=>e.jsxs("div",{className:"flex flex-col relative very-cool w-full	h-full",children:[e.jsx(Y,{}),e.jsxs("div",{className:"flex flex-1",children:[e.jsx(re,{}),e.jsx(ne,{})]})]});function ce(l){return i.useEffect(()=>{te.install=l.install},[]),e.jsx(g,{locale:q,prefixCls:"one-codes",children:e.jsx(ie,{})})}const P=l=>e.jsxs("div",{className:"flex m-b-2",children:[e.jsx("div",{className:"w-5px b-rd-2px bg-brand-primary mr-7px"}),e.jsx("div",{className:"flex-1 text-3.5 font-bold",children:l.str})]}),de=D(l=>{const[o,{setTrue:n,setFalse:r}]=_(),t=i.useMemo(()=>m.createForm(),[]);return e.jsxs(e.Fragment,{children:[e.jsx(f,{type:"primary",onClick:()=>{n(),t.setValues({columns:y(l.value||[])})},children:"columns配置"}),e.jsx(S,{title:"column配置",open:o,onOk:async()=>{await t.validate();let a=y(t.values.columns);a=a.map(s=>{var c;return(c=s==null?void 0:s.searchField)!=null&&c.type||delete s.searchField,s}),l.onChange(a),r()},onCancel:()=>{r()},children:e.jsx(g,{componentSize:"small",children:e.jsx(m,{form:t,gridProps:{maxColumns:2},layoutProps:{labelCol:0},fields:[{type:"ArrayTabs",name:"columns",valueType:"Array",children:[{type:()=>e.jsx(P,{str:"columns配置"}),itemProps:{style:{margin:0,padding:0}}},{type:"Input",required:!0,title:"title",name:"title"},{type:"Input",required:!0,title:"dataIndex",name:"dataIndex"},{type:()=>e.jsx(P,{str:"table搜索配置"}),itemProps:{style:{margin:0,padding:0}}},{type:"Select",name:"searchField.type",title:"type",props:{allowClear:!0},enum:[{label:"输入框",value:"Input"},{label:"选择框",value:"Select"}]},{type:"Input",required:!0,title:"title",name:"searchField.title",reactions:{dependencies:["..searchField.type"],fulfill:{state:{display:"{{!$deps[0]? 'none':'visible'}}"}}}},{type:"Input",required:!0,name:"searchField.name",title:"name",reactions:{dependencies:["..searchField.type"],fulfill:{state:{display:"{{!$deps[0]? 'none':'visible'}}"}}}}]}]})})})]})});const v=document.getElementById("root"),d=()=>Math.floor(Math.random()*1e5).toString(16);v&&H(v).render(e.jsx(ce,{install:[{typeName:"FormRender组件",icon:"",children:[{component:W,componentName:"TableFormRender",defaultProps:{tableProps:{size:"small",rowKey:"id"},request:async()=>new Promise(o=>{setTimeout(()=>{o({total:1e3,list:Array(1e3).fill("").map((n,r)=>({id:r,a:d(),b:d(),c:d(),d:d(),e:d()}))})},300)}),columns:[{title:"a",dataIndex:"a",searchField:{type:"Input",required:!0,title:"选项",props:{options:[{label:"选项1",value:"1 "},{label:"选项2",value:"2"}]}}},{title:"b",dataIndex:"b",searchField:{type:"Select",props:{options:[{label:"选项1",value:" 1 "},{label:"选项2",value:" 2"}]}}},{title:"c",dataIndex:"c",searchField:{type:"Select",title:"c",props:{options:[{label:"选项1",value:" 1 "},{label:"选项2",value:" 2"}]}}},{title:"d",dataIndex:"d",searchField:{type:"Select",title:"c",props:{options:[{label:"选项1",value:" 1 "},{label:"选项2",value:" 2"}]}}},{title:"e",dataIndex:"e",searchField:{type:"Select",props:{options:[{label:"选项1",value:" 1 "},{label:"选项2",value:" 2"}]}}}]},configProps:[{type:"Select",title:"table-size",name:"tableProps.size",enum:[{label:"小",value:"small"},{label:"中",value:"middle"},{label:"大",value:"large"}]},{type:"Switch",title:"borded",name:"tableProps.bordered",valueType:"Boolean"},{type:de,name:"columns",title:"columns配置"}]},{component:$,componentName:"Card",defaultProps:{size:"small",title:"title"},configProps:[{type:"Input",name:"title",title:"title"},{type:"Select",enum:[{value:"small",label:"small"},{value:"default",label:"default"}],name:"size",title:"size"}]}]},{typeName:"Antd 组件",icon:"",children:[{component:J,componentName:"Input",isSlot:!1,defaultProps:{bordered:!0},configProps:[{type:"Switch",name:"showCount",title:"是否显示数字"},{type:"Switch",name:"bordered",title:"是否有边框"},{type:"Switch",name:"allowClear",title:"可以点击清除图标删除内容"}]},{component:f,componentName:"Button",isSlot:!1,defaultProps:{block:!1,type:"default",shape:"default",children:"Button"},configProps:[{type:"Input",name:"children",title:"内容"},{type:"Switch",name:"block",title:"将按钮宽度调整为其父宽度的选项"},{type:"Switch",name:"danger",title:"设置危险按钮"},{type:"Select",name:"shape",title:"设置按钮形状",enum:[{label:"default",value:"default"},{label:"circle",value:"circle"},{label:"round",value:"round"}]},{type:"Select",name:"type",title:"设置按钮类型",enum:[{label:"default",value:"default"},{label:"primary",value:"primary"},{label:"ghost",value:"ghost"},{label:"dashed",value:"dashed"},{label:"link",value:"link"},{label:"text",value:"text"}]}]},{component:o=>e.jsxs(e.Fragment,{children:[e.jsx(f,{children:"Modal"}),e.jsx(S,{...o})]}),componentName:"Modal",isSlot:!1,defaultProps:{maskClosable:!0,title:"title",width:520,open:!1},configProps:[{type:"Switch",name:"maskClosable",title:"点击蒙层是否允许关闭"},{type:"Input",name:"title",title:"标题"},{type:"NumberPicker",name:"width",title:"宽度"},{type:"Switch",name:"open",title:"对话框是否可见"}]}]},{typeName:"表单组件",icon:"",children:[{component:Q,componentName:"ProFormText",isSlot:!1,defaultProps:{label:"abc",name:"abc"},configProps:[{type:"Switch",name:"fieldProps.showCount",title:"是否显示数字"}]},{component:V,isSlot:!1,componentName:"ProFormDatePicker",defaultProps:{label:"ProFormDatePicker",name:"ProFormDatePicker"}},{component:K,componentName:"ProFormCheckbox",isSlot:!1,defaultProps:{label:"ProFormCheckbox",name:"ProFormCheckbox"}},{component:Z,componentName:"ProFormRadio",isSlot:!1,defaultProps:{label:"ProFormRadio",name:"ProFormRadio"}},{component:G,componentName:"ProFormTextArea",isSlot:!1,defaultProps:{label:"ProFormTextArea",name:"ProFormTextArea"}},{component:U,componentName:"ProForm",isSlot:!0,defaultProps:{layout:"inline"}},{component:X,componentName:"QueryFilter",isSlot:!0,configProps:[{type:"Switch",name:"defaultCollapsed",title:"默认收起"},{type:"Switch",name:"split",title:"每一行是否有分割线"},{type:"NumberPicker",name:"labelWidth",title:"label 宽度"}],defaultProps:{defaultCollapsed:!0,labelWidth:80}}]}]}));
